<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generador de números - Buenos Aires</title>
  <style>
    :root{
      --bg:#0f1724; --card:#111827; --accent:#06b6d4; --muted:#94a3b8; --success:#16a34a;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; background:linear-gradient(180deg,#021026 0%, #071023 100%);
      color:#e6eef6; display:flex; align-items:center; justify-content:center; padding:28px;
    }
    .card{
      width:100%; max-width:880px; background:var(--card); padding:20px; border-radius:12px; box-shadow:0 8px 30px rgba(2,6,23,0.6);
    }
    h1{margin:0 0 6px 0; font-size:20px}
    p.lead{margin:0 0 18px 0; color:var(--muted); font-size:13px}
    .row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
    label{font-size:13px; color:var(--muted); display:block; margin-bottom:6px}
    input[type=number], select{
      background:var(--glass); border:1px solid rgba(255,255,255,0.04); color:inherit;
      padding:8px 10px; border-radius:8px; min-width:120px;
    }
    button{
      background:linear-gradient(90deg,var(--accent), #06b6b0); border:0; padding:10px 14px; border-radius:10px;
      color:#042027; font-weight:600; cursor:pointer;
      box-shadow: 0 6px 18px rgba(6,182,212,0.12);
    }
    button.ghost{background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03)}
    .controls{display:flex; gap:12px; flex-wrap:wrap; margin-bottom:14px}
    .list{margin-top:14px; display:grid; gap:10px}
    .item{
      display:flex; align-items:center; justify-content:space-between;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,0.02);
    }
    .number{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-weight:600}
    .tag{font-size:12px; color:var(--muted); margin-left:8px}
    .small{font-size:12px; color:var(--muted)}
    .actions{display:flex; gap:8px; align-items:center}
    .toast{position:fixed; right:20px; bottom:20px; background:rgba(2,6,23,0.9); color:#d1fae5; padding:10px 14px; border-radius:10px; box-shadow:0 8px 30px rgba(0,0,0,0.6); display:none}
    footer{margin-top:12px; color:var(--muted); font-size:12px}
    @media(max-width:560px){
      .row{flex-direction:column; align-items:stretch}
    }
  </style>
</head>
<body>
  <div class="card" role="main">
    <h1>Generador de números aleatorios — Buenos Aires</h1>
    <p class="lead">Genera números (fijo/móvil) con código de área <strong>11</strong> y cópialos rápido. Útil para pruebas, ejemplos y maquetas.</p>

    <div class="controls">
      <div>
        <label for="qty">Cantidad</label>
        <input id="qty" type="number" min="1" max="200" value="10" />
      </div>

      <div>
        <label for="type">Tipo</label>
        <select id="type">
          <option value="both">Ambos (fijo + móvil)</option>
          <option value="fixed">Fijo (línea)</option>
          <option value="mobile">Móvil</option>
        </select>
      </div>

      <div>
        <label for="format">Formato</label>
        <select id="format">
          <option value="local">Local: 11-XXXX-XXXX</option>
          <option value="national">Nacional: 011-15-XXXX-XXXX (uso doméstico)</option>
          <option value="international">Internacional: +54 9 11 XXXXXXXX</option>
        </select>
      </div>

      <div style="display:flex; align-items:end; gap:8px;">
        <button id="generate">Generar</button>
        <button id="copyAll" class="ghost">Copiar todo</button>
      </div>
    </div>

    <div id="list" class="list" aria-live="polite"></div>

    <footer>Nota: los números son generados aleatoriamente y <strong>no garantizan</strong> que correspondan a líneas reales. Si vas a usar números reales, sé responsable.</footer>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">Copiado ✔</div>

  <script>
    // Buenos Aires: código de área = 11. 
    // Para fijos: número base de 8 cifras (ej: 1234-5678).
    // Para móviles locales en Argentina se suele usar "15" delante cuando se marca dentro del país.
    // En formato internacional para móviles se usa: +54 9 11 XXXXXXXXX (sin el "15").
    // Aquí generamos 8 dígitos aleatorios y construimos según el formato elegido.

    const qtyInput = document.getElementById('qty');
    const typeSelect = document.getElementById('type');
    const formatSelect = document.getElementById('format');
    const generateBtn = document.getElementById('generate');
    const listEl = document.getElementById('list');
    const copyAllBtn = document.getElementById('copyAll');
    const toast = document.getElementById('toast');

    function rndInt(min, max){
      return Math.floor(Math.random()*(max-min+1)) + min;
    }

    function pad(num, size){
      let s = String(num);
      while(s.length < size) s = '0' + s;
      return s;
    }

    function generateSubscriber8(){
      // Devuelve un string de 8 dígitos que no comienza con 0 (más realista)
      let first = rndInt(2,9);
      let tail = pad(rndInt(0, 9999999), 7); // 7 dígitos
      return String(first) + tail;
    }

    function formatNumber(subscriber8, kind, fmt){
      // kind: 'fixed' | 'mobile'
      // fmt: 'local' | 'national' | 'international'
      const area = '11';
      if(fmt === 'local'){
        // 11-XXXX-XXXX
        return `${area}-${subscriber8.slice(0,4)}-${subscriber8.slice(4)}`;
      } else if(fmt === 'national'){
        // domestic representation commonly: 011-15-XXXX-XXXX for mobiles (011 is trunk for area code 11)
        if(kind === 'mobile'){
          return `011-15-${subscriber8.slice(0,4)}-${subscriber8.slice(4)}`;
        } else {
          return `011-${subscriber8.slice(0,4)}-${subscriber8.slice(4)}`;
        }
      } else {
        // international
        if(kind === 'mobile'){
          // +54 9 11 XXXXXXXX
          return `+54 9 ${area} ${subscriber8}`;
        } else {
          // +54 11 XXXXXXXX (landline)
          return `+54 ${area} ${subscriber8}`;
        }
      }
    }

    function showToast(text='Copiado ✔'){
      toast.textContent = text;
      toast.style.display = 'block';
      clearTimeout(toast._t);
      toast._t = setTimeout(()=>{ toast.style.display='none'; }, 1800);
    }

    function createItemElement(displayString, rawString){
      const item = document.createElement('div');
      item.className = 'item';
      const left = document.createElement('div');
      left.style.display = 'flex';
      left.style.alignItems = 'center';

      const num = document.createElement('div');
      num.className = 'number';
      num.textContent = displayString;

      const tag = document.createElement('div');
      tag.className = 'tag small';
      tag.textContent = rawString.rawKind ? ` ${rawString.rawKind}` : '';

      left.appendChild(num);
      left.appendChild(tag);

      const actions = document.createElement('div');
      actions.className = 'actions';

      const copyBtn = document.createElement('button');
      copyBtn.textContent = 'Copiar';
      copyBtn.onclick = async () => {
        try {
          await navigator.clipboard.writeText(displayString);
          showToast('Copiado ✔');
        } catch(e){
          // fallback
          const ta = document.createElement('textarea');
          ta.value = displayString;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          showToast('Copiado (fallback) ✔');
        }
      };

      const rawBtn = document.createElement('button');
      rawBtn.className = 'ghost';
      rawBtn.textContent = 'Ver crudo';
      rawBtn.onclick = () => alert(`Número raw:\n${rawString.raw}\nTipo: ${rawString.rawKind || 'fijo'}`);

      actions.appendChild(copyBtn);
      actions.appendChild(rawBtn);

      item.appendChild(left);
      item.appendChild(actions);
      return item;
    }

    function generateNumbers(){
      const qty = Math.min(200, Math.max(1, parseInt(qtyInput.value) || 10));
      const type = typeSelect.value; // fixed / mobile / both
      const fmt = formatSelect.value;
      listEl.innerHTML = '';

      const list = [];
      for(let i=0;i<qty;i++){
        let kind;
        if(type === 'both'){
          kind = (Math.random() < 0.5) ? 'fixed' : 'mobile';
        } else {
          kind = type;
        }
        const sub8 = generateSubscriber8();
        const display = formatNumber(sub8, kind, fmt);
        const raw = {
          raw: sub8,
          rawKind: kind
        };
        list.push({display, raw});
      }

      // Añadir DOM
      for(const entry of list){
        listEl.appendChild(createItemElement(entry.display, entry.raw));
      }

      // Activar botón copiar todo con texto plano (cada uno en nueva línea)
      copyAllBtn.onclick = async () => {
        const allText = list.map(l => l.display).join('\\n');
        try {
          await navigator.clipboard.writeText(allText);
          showToast('Todos copiados ✔');
        } catch(e){
          // fallback
          const ta = document.createElement('textarea');
          ta.value = allText;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          showToast('Todos copiados (fallback) ✔');
        }
      };
    }

    // Inicial
    generateBtn.addEventListener('click', generateNumbers);
    // Generar al cargar
    generateNumbers();
  </script>
</body>
</html>
